<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}{% endblock %}&nbsp;|&nbsp;Barbershop</title>
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
    {# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}
    {% block stylesheets %}
        <link rel="stylesheet" href="{{ asset('assets/css/bootstrap/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ asset('assets/css/fontawesome/all.min.css') }}">
        <link rel="stylesheet" href="{{ asset('assets/css/base.css') }}">
        <link rel="stylesheet" href="{{ asset('assets/css/home.css') }}">
        <link rel="stylesheet" href="{{ asset('assets/css/fullcalendar/main.min.css') }}">
    {% endblock %}

    {% block javascripts %}
        <script src="{{ asset('assets/js/bootstrap/bootstrap.min.js') }}"></script>
        <script src="{{ asset('assets/js/fontawesome/all.js') }}"></script>
        <script src="{{ asset('assets/js/fullcalendar/main.min.js') }}"></script>
        <script src="{{ asset('assets/js/fullcalendar/locales-all.min.js') }}"></script>

        <script>
            window.onload = () => {
                let calendarElt = document.querySelector("#calendar");

                let calendar = new FullCalendar.Calendar(calendarElt, {

                    initialView: 'timeGridWeek',
                    locale: 'fr',
                    timeZone: 'Europe/Paris',
                    headerToolbar: {
                        left: '',
                        center: 'title',
                        end: 'today prev,next'
                    },
                    allDaySlot: false,
                    slotMinTime: "07:00:00",
                    slotMaxTime: "22:00:00",
                    nowIndicator: true,
                    editable: true,
                    height: 'auto'
                })

                calendar.render()

            };
        </script>
    {% endblock %}
</head>
<body>

{{ include('base/nav.html.twig') }}

{% if title is defined %}

    <div class="title-page pt-5">
        <div class="title text-center h2 text-light mt-4 text-uppercase">{{ title }}</div>
        <div class="separator col-4 bg-primary mx-auto mt-4" style="height: 1px"></div>
    </div>

{% endif %}

{% for notification in app.flashes('success') %}
    <div class="row justify-content-center mt-5">
        <div class="alert alert-success col-md-6 text-center mb-0">{{ notification }}</div>
    </div>
{% endfor %}
{% for notification in app.flashes('error') %}
    <div class="row justify-content-center mt-5">
        <div class="alert alert-danger col-md-6 text-center mb-0">{{ notification }}</div>
    </div>
{% endfor %}

{% block body %}{% endblock %}

{{ include('base/footer.html.twig') }}

</body>
</html>
